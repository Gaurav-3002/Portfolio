(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2740:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(5155),s=a(2115),i=a(1793),l=a(4879),n=a(4416),d=a(9946);let o=(0,d.A)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var c=a(1007);let m=(0,d.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var h=a(2486);let u=()=>{let[e,t]=(0,s.useState)(!1),[a,d]=(0,s.useState)([]),[u,x]=(0,s.useState)(""),[p,y]=(0,s.useState)(!1),[f,b]=(0,s.useState)(""),[g,w]=(0,s.useState)(!1),v=(0,s.useRef)(null);(0,s.useEffect)(()=>{w(!0)},[]),(0,s.useEffect)(()=>{if(!g)return;let e=localStorage.getItem("chatSessionId");if(e)b(e);else{let e="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9);b(e),localStorage.setItem("chatSessionId",e)}},[g]),(0,s.useEffect)(()=>{v.current&&v.current.scrollIntoView({behavior:"smooth"})},[a]),(0,s.useEffect)(()=>{e&&0===a.length&&g&&d([{id:"welcome_"+Date.now(),content:"Hi! I'm Gaurav's AI assistant. I can help you learn about his skills, projects, and experience. I can also help draft emails. What would you like to know?",sender:"ai",timestamp:new Date}])},[e,a.length,g]);let j=async()=>{if(!u.trim()||p||!g)return;let e={id:"user_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),content:u,sender:"user",timestamp:new Date};d(t=>[...t,e]),x(""),y(!0);try{u.toLowerCase().startsWith("email:")?await N(u):await k(u)}catch(t){console.error("Error sending message:",t);let e={id:"error_"+Date.now(),content:"I'm sorry, I encountered an error. Please try again later.",sender:"ai",timestamp:new Date};d(t=>[...t,e])}finally{y(!1)}},k=async e=>{let t=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e,sessionId:f})});if(!t.ok)throw Error("Chat API request failed: ".concat(t.status));let a=await t.json(),r={id:"ai_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),content:a.answer||"Sorry, I received an empty response.",sender:"ai",timestamp:new Date};d(e=>[...e,r])},N=async e=>{let t=e.substring(6).trim().split("|");if(2!==t.length){let e={id:"error_"+Date.now(),content:"Please format your email request as: 'email: subject | body'",sender:"ai",timestamp:new Date};d(t=>[...t,e]);return}let a=t[0].trim(),r=t[1].trim();if(!a||!r){let e={id:"error_"+Date.now(),content:"Please provide both subject and body for the email request.",sender:"ai",timestamp:new Date};d(t=>[...t,e]);return}await new Promise(e=>setTimeout(e,1500));let s={id:"email_"+Date.now(),content:"Email drafted successfully!\n\n\uD83D\uDCE7 Subject: ".concat(a,"\n\n\uD83D\uDCDD Body: ").concat(r,"\n\nThe email has been formatted and is ready to send to Gaurav Kumar."),sender:"ai",timestamp:new Date};d(e=>[...e,s])};return g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.P.button,{onClick:()=>t(!e),className:"fixed bottom-4 right-4 md:bottom-8 md:right-8 w-12 h-12 md:w-14 md:h-14 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-50",whileHover:{scale:1.1},whileTap:{scale:.9},style:{zIndex:1e3},"aria-label":e?"Close chat":"Open chat",children:(0,r.jsx)(l.N,{mode:"wait",children:e?(0,r.jsx)(i.P.div,{initial:{rotate:0,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:(0,r.jsx)(n.A,{className:"w-5 h-5 md:w-6 md:h-6"})},"close"):(0,r.jsx)(i.P.div,{initial:{rotate:0,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:(0,r.jsx)(o,{className:"w-5 h-5 md:w-6 md:h-6"})},"open")})}),(0,r.jsx)(l.N,{children:e&&(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},transition:{duration:.3},className:"fixed bottom-16 right-4 md:bottom-24 md:right-8 w-[calc(100vw-2rem)] max-w-sm h-[70vh] max-h-96 md:max-h-[480px] bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col z-50",style:{zIndex:1e3},children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 md:p-4 rounded-t-2xl",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 md:w-8 md:h-8 bg-white/20 rounded-full flex items-center justify-center",children:(0,r.jsx)(o,{className:"w-3 h-3 md:w-5 md:h-5"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-sm md:text-base",children:"Gaurav's AI Assistant"}),(0,r.jsx)("p",{className:"text-xs opacity-90",children:"Always here to help"})]})]})}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 md:p-4 space-y-3 md:space-y-4",children:[a.map(e=>(0,r.jsxs)("div",{className:"flex items-start gap-2 ".concat("user"===e.sender?"justify-end":"justify-start"),children:["ai"===e.sender&&(0,r.jsx)("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(o,{className:"w-2 h-2 md:w-3 md:h-3 text-white"})}),(0,r.jsx)("div",{className:"max-w-[80%] p-2 md:p-3 rounded-2xl text-xs md:text-sm whitespace-pre-line ".concat("user"===e.sender?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"),children:e.content}),"user"===e.sender&&(0,r.jsx)("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(c.A,{className:"w-2 h-2 md:w-3 md:h-3 text-gray-600 dark:text-gray-300"})})]},e.id)),p&&(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(o,{className:"w-2 h-2 md:w-3 md:h-3 text-white"})}),(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 p-2 md:p-3 rounded-2xl",children:(0,r.jsx)(m,{className:"w-3 h-3 md:w-4 md:h-4 animate-spin"})})]}),(0,r.jsx)("div",{ref:v})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-3 md:p-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:u,onChange:e=>x(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),j())},placeholder:"Ask me anything...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300 text-xs md:text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",disabled:p}),(0,r.jsx)("button",{onClick:j,disabled:p||!u.trim(),className:"px-3 md:px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,r.jsx)(h.A,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:'Try: "Tell me about Gaurav\'s skills" or "email: subject | body"'})]})]})})]}):null}},4230:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},5005:e=>{e.exports={style:{fontFamily:"'Space Grotesk', 'Space Grotesk Fallback'",fontStyle:"normal"},className:"__className_bc0dcf",variable:"__variable_bc0dcf"}},5672:(e,t,a)=>{Promise.resolve().then(a.bind(a,2740)),Promise.resolve().then(a.t.bind(a,4230,23)),Promise.resolve().then(a.t.bind(a,5005,23)),Promise.resolve().then(a.t.bind(a,9324,23))},9324:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[834,937,441,684,358],()=>t(5672)),_N_E=e.O()}]);